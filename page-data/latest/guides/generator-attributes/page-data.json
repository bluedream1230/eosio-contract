{"componentChunkName":"component---src-page-templates-content-page-jsx","path":"/latest/guides/generator-attributes","result":{"data":{"site":{"pathPrefix":"/auto-eosio-cdt"},"allMarkdownRemark":{"nodes":[{"fields":{"slug":"/v1.4/index"}},{"fields":{"slug":"/v20.0/index"}},{"fields":{"slug":"/v1.6/index"}},{"fields":{"slug":"/v1.5/index"}},{"fields":{"slug":"/v20.1/index"}},{"fields":{"slug":"/v2.0/index"}},{"fields":{"slug":"/latest/index"}},{"fields":{"slug":"/v21.0/index"}},{"fields":{"slug":"/v1.4/guides/cmake"}},{"fields":{"slug":"/v1.4/guides/generator-attributes"}},{"fields":{"slug":"/v1.4/guides/first-smart-contract"}},{"fields":{"slug":"/v1.4/tools/eosio-abidiff"}},{"fields":{"slug":"/v1.4/guides/native-tester"}},{"fields":{"slug":"/v1.4/tools/eosio-cpp"}},{"fields":{"slug":"/v1.4/tools/eosio-init"}},{"fields":{"slug":"/latest/guides/first-smart-contract"}},{"fields":{"slug":"/v1.4/tools/eosio-abigen"}},{"fields":{"slug":"/v1.4/tools/eosio-ld"}},{"fields":{"slug":"/v1.4/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v1.4/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/latest/guides/cmake"}},{"fields":{"slug":"/latest/guides/generator-attributes"}},{"fields":{"slug":"/latest/tools/eosio-abidiff"}},{"fields":{"slug":"/latest/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/latest/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/latest/tools/eosio-cpp"}},{"fields":{"slug":"/latest/tools/eosio-init"}},{"fields":{"slug":"/latest/tools/eosio-abigen"}},{"fields":{"slug":"/latest/guides/native-tester"}},{"fields":{"slug":"/v20.0/guides/first-smart-contract"}},{"fields":{"slug":"/v20.0/guides/cmake"}},{"fields":{"slug":"/v20.0/tools/eosio-abidiff"}},{"fields":{"slug":"/v20.0/guides/generator-attributes"}},{"fields":{"slug":"/latest/tools/eosio-ld"}},{"fields":{"slug":"/v20.0/tools/eosio-abigen"}},{"fields":{"slug":"/v20.0/tools/eosio-init"}},{"fields":{"slug":"/v20.0/tools/eosio-cpp"}},{"fields":{"slug":"/v20.0/tools/eosio-ld"}},{"fields":{"slug":"/v20.0/guides/native-tester"}},{"fields":{"slug":"/v1.6/guides/cmake"}},{"fields":{"slug":"/v20.0/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v1.6/guides/first-smart-contract"}},{"fields":{"slug":"/v1.6/guides/generator-attributes"}},{"fields":{"slug":"/v1.6/tools/eosio-abigen"}},{"fields":{"slug":"/v1.6/guides/native-tester"}},{"fields":{"slug":"/v1.6/tools/eosio-init"}},{"fields":{"slug":"/v1.6/tools/eosio-cpp"}},{"fields":{"slug":"/v20.0/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/v1.6/tools/eosio-ld"}},{"fields":{"slug":"/v1.5/guides/cmake"}},{"fields":{"slug":"/v1.5/guides/first-smart-contract"}},{"fields":{"slug":"/v1.6/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/v1.5/tools/eosio-abidiff"}},{"fields":{"slug":"/v1.6/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v1.5/guides/generator-attributes"}},{"fields":{"slug":"/v1.5/tools/eosio-abigen"}},{"fields":{"slug":"/v1.5/tools/eosio-ld"}},{"fields":{"slug":"/v1.5/tools/eosio-cpp"}},{"fields":{"slug":"/v1.5/guides/native-tester"}},{"fields":{"slug":"/v1.5/tools/eosio-init"}},{"fields":{"slug":"/v20.1/guides/first-smart-contract"}},{"fields":{"slug":"/v20.1/guides/cmake"}},{"fields":{"slug":"/v1.5/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v20.1/guides/generator-attributes"}},{"fields":{"slug":"/v20.1/tools/eosio-abidiff"}},{"fields":{"slug":"/v1.5/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/v20.1/guides/native-tester"}},{"fields":{"slug":"/v1.6/tools/eosio-abidiff"}},{"fields":{"slug":"/v20.1/tools/eosio-init"}},{"fields":{"slug":"/v20.1/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v2.0/tools/eosio-abidiff"}},{"fields":{"slug":"/v20.1/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/v20.1/tools/eosio-ld"}},{"fields":{"slug":"/v20.1/tools/eosio-cpp"}},{"fields":{"slug":"/v20.1/tools/eosio-abigen"}},{"fields":{"slug":"/v2.0/tools/eosio-ld"}},{"fields":{"slug":"/v2.0/guides/first-smart-contract"}},{"fields":{"slug":"/v2.0/guides/cmake"}},{"fields":{"slug":"/v2.0/tools/eosio-init"}},{"fields":{"slug":"/v2.0/guides/native-tester"}},{"fields":{"slug":"/v2.0/tools/eosio-abigen"}},{"fields":{"slug":"/v21.0/guides/cmake"}},{"fields":{"slug":"/v2.0/guides/generator-attributes"}},{"fields":{"slug":"/v21.0/guides/first-smart-contract"}},{"fields":{"slug":"/v2.0/upgrading/1.2-to-1.3"}},{"fields":{"slug":"/v21.0/guides/generator-attributes"}},{"fields":{"slug":"/v2.0/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v2.0/tools/eosio-cpp"}},{"fields":{"slug":"/v21.0/tools/eosio-abidiff"}},{"fields":{"slug":"/v21.0/tools/eosio-cpp"}},{"fields":{"slug":"/v21.0/tools/eosio-init"}},{"fields":{"slug":"/v21.0/tools/eosio-ld"}},{"fields":{"slug":"/v21.0/guides/native-tester"}},{"fields":{"slug":"/v21.0/upgrading/1.5-to-1.6"}},{"fields":{"slug":"/v21.0/tools/eosio-abigen"}},{"fields":{"slug":"/v21.0/upgrading/1.2-to-1.3"}}]},"markdownRemark":{"html":"<h2 id=\"abicode-generator-attributes\">ABI/Code generator attributes</h2>\n<p>Unlike the old ABI generator tool, the new tool uses C++11 or GNU style attributes to mark <code class=\"language-text\">actions</code> and <code class=\"language-text\">tables</code>.</p>\n<h4 id=\"eosioaction\">[[eosio::action]]</h4>\n<p>This attribute marks either a struct or a method as an action.\nExample (four ways to declare an action for ABI generation):</p>\n<div class=\"gatsby-highlight\" data-language=\"c++\"><pre class=\"language-c++\"><code class=\"language-c++\">// this is the C++11 and greater style attribute\n[[eosio::action]]\nvoid testa( name n ) {\n   // do something\n}\n\n// this is the GNU style attribute, this can be used in C code and prior to C++ 11\n__attribute__((eosio_action))\nvoid testa( name n ){\n   // do something\n}\n\nstruct [[eosio::action]] testa {\n   name n;\n   EOSLIB_SERIALIZE( testa, (n) )\n};\n\nstruct __attribute__((eosio_action)) testa {\n   name n;\n   EOSLIB_SERIALIZE( testa, (n) )\n};</code></pre></div>\n<p>If your action name is not a valid <a href=\"https://developers.eos.io/eosio-cpp/docs/naming-conventions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">EOSIO name</a> you can explicitly specify the name in the attribute <code class=\"language-text\">c++ [[eosio::action(&quot;&lt;valid action name&gt;&quot;)]]</code></p>\n<h4 id=\"eosiotable\">[[eosio::table]]</h4>\n<p>Example (two ways to declare a table for ABI generation):</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">struct [[eosio::table]] testtable {\n   uint64_t owner;\n   /* all other fields */\n};\n\nstruct __attribute__((eosio_table)) testtable {\n   uint64_t owner;\n   /* all other fields */\n};\n\ntypedef eosio::multi_index&lt;&quot;tablename&quot;_n, testtable&gt; testtable_t;</code></pre></div>\n<p>If you don't want to use the multi-index you can explicitly specify the name in the attribute <code class=\"language-text\">c++ [[eosio::table(&quot;&lt;valid action name&gt;&quot;)]]</code>.</p>\n<h4 id=\"eosiocontractany-name-you-like\">[[eosio::contract(\"&#x3C;any name you like>\")]]</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">class [[eosio::contract(&quot;&lt;any name you would like&gt;&quot;)]] test_contract : public eosio::contract {\n};</code></pre></div>\n<p>This will mark this <code class=\"language-text\">class</code> as being an <code class=\"language-text\">EOSIO</code> contract, this allows for namespacing of contracts, i.e. you can include headers like <code class=\"language-text\">eosio::token</code> and not have <code class=\"language-text\">eosio::token</code>'s actions/tables wind up in you ABI or generated dispatcher.</p>\n<h4 id=\"eosioon_notifyvalid-eosio-account-namevalid-eosio-action-name\">[[eosio::on_notify(\"&#x3C;valid eosio account name>::&#x3C;valid eosio action name>\")]]</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[[eosio::on_notify(&quot;eosio.token::transfer&quot;)]]\nvoid on_token_transfer(name from, name to, asset quantity, std::string memo) {\n   do something on transfer from eosio.token...\n}\n\n[[eosio::on_notify(&quot;*::transfer&quot;)]]\nvoid on_any_transfer(name from, name to, asset quantity, std::string memo) {\n   do something on transfer from any account...\n}</code></pre></div>\n<h4 id=\"eosiowasm_entry\">[[eosio::wasm_entry]]</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[[eosio::wasm_entry]]\nvoid some_function(...) {\n   do something...\n}</code></pre></div>\n<p>This will mark an arbitrary function as an entry point, which will then wrap the function with global constructors (ctors) and global destructors (dtors).  This will allow for the eosio.cdt toolchain to produce WASM binaries for other ecosystems.</p>\n<h4 id=\"eosiowasm_import\">[[eosio::wasm_import]]</h4>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">extern &quot;C&quot; {\n   __attribute__((eosio_wasm_import))\n   void some_intrinsic(...);\n}</code></pre></div>\n<p>This will mark a function declaration as being a WebAssembly import.  This allows for other compilation modes to specify which functions are import only (i.e. do not link) without having to maintain a secondary file with duplicate declarations.</p>\n<h3 id=\"fixing-an-abi-or-writing-an-abi-manually\">Fixing an ABI or Writing an ABI Manually</h3>\n<ul>\n<li>Advanced features of the newest version of the ABI will require manual construction of the ABI, and odd and advanced C++ patterns could capsize the generators type deductions. So having a good knowledge of how to write an ABI should be an essential piece of knowledge of a smart contract writer.</li>\n<li>Please refer to <a href=\"https://developers.eos.io/eosio-cpp/docs/how-to-write-an-abi\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">developers.eos.io \"How to Write an ABI File\"</a> to learn about the different sections of an ABI.</li>\n</ul>\n<h3 id=\"adding-ricardian-contracts-and-clauses-to-abi\">Adding Ricardian Contracts and Clauses to ABI</h3>\n<ul>\n<li>As of EOSIO.CDT v1.4.0 the ABI generator will try to automatically import contracts and clauses into the generated ABI.  There are a few caveats to this, one is a strict naming policy of the files and an HTML tag used to mark each Ricardian contract and each clause.</li>\n<li>The Ricardian contracts should be housed in a file with the name <contract name>.contracts.md and the clauses should be in a file named <contract name>.clauses.md.</li>\n<li>For each Ricardian contract the header <code class=\"language-text\">&lt;h1 class=&quot;contract&quot;&gt;ActionName&lt;/h1&gt;</code> should be used, as this directs the ABI generator to attach this Ricardian contract to the specified action.</li>\n<li>For each Ricardian clause the header <code class=\"language-text\">&lt;h1 class=&quot;clause&quot;&gt;ClauseID&lt;/h1&gt;</code> should be used, as this directs the ABI generator to the clause id and the subsequent body.</li>\n<li>The option <code class=\"language-text\">-R</code> has been added to eosio-cpp and eosio-abigen to add \"resource\" paths to search from, so you can place these files in any directory structure you like and use <code class=\"language-text\">-R&lt;path to file&gt;</code> in the same vein as <code class=\"language-text\">-I</code> for include paths.</li>\n<li>To see these in use please see ./examples/hello/hello.contracts.md and ./examples/hello/hello.clauses.md.</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#abicode-generator-attributes\">ABI/Code generator attributes</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosioaction\">[eosio::action]</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosiotable\">[eosio::table]</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosiocontractany-name-you-like\">[eosio::contract(\"&#x3C;any name you like>\")]</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosioon_notifyvalid-eosio-account-namevalid-eosio-action-name\">[eosio::on_notify(\"&#x3C;valid eosio account name>::&#x3C;valid eosio action name>\")]</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosiowasm_entry\">[eosio::wasm_entry]</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#eosiowasm_import\">[eosio::wasm_import]</a></li>\n</ul>\n</li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#fixing-an-abi-or-writing-an-abi-manually\">Fixing an ABI or Writing an ABI Manually</a></li>\n<li><a href=\"/auto-eosio-cdt/latest/guides/generator-attributes/#adding-ricardian-contracts-and-clauses-to-abi\">Adding Ricardian Contracts and Clauses to ABI</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"edit_link":null,"request_changes_link":null},"fields":{"articleTitle":"guidesgenerator-attributes","contentTitle":"Generator attributes","headTagTitle":"guidesgenerator-attributes","internalSummary":"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/latest/SUMMARY.json","isCollection":false,"isRoot":true,"isTagged":true,"organization":"EOSIO","originalKey":"/","pathData":"{\"tagged\":true,\"parentPath\":\"latest/guides\",\"collectionPath\":\"/\",\"rootDirPath\":\"latest\",\"filename\":\"generator-attributes.md\"}","repository":"auto-eosio-cdt","showSearch":true,"slug":"/latest/guides/generator-attributes","tagsList":"[{\"beta\":1,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v21.0.1-beta1\",\"tag_reduced\":\"21.0\",\"tag_reduced_friendly\":\"v21.0\",\"tag_sanitized\":\"21.0.1-beta1\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v21.0/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v21.0\"},{\"beta\":null,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"20.1.0-beta\",\"tag_reduced\":\"20.1\",\"tag_reduced_friendly\":\"v20.1\",\"tag_sanitized\":\"20.1.0-beta\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v20.1/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v20.1\"},{\"beta\":0,\"build\":0,\"deprecated\":false,\"latest\":true,\"rc\":0,\"tag\":\"20.0.6\",\"tag_reduced\":\"20.0\",\"tag_reduced_friendly\":\"v20.0\",\"tag_sanitized\":\"20.0.6\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/latest/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"latest\"},{\"beta\":0,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v20.0.5\",\"tag_reduced\":\"20.0\",\"tag_reduced_friendly\":\"v20.0\",\"tag_sanitized\":\"20.0.5\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v20.0/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v20.0\"},{\"beta\":9,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v2.0.0-beta9\",\"tag_reduced\":\"2.0\",\"tag_reduced_friendly\":\"v2.0\",\"tag_sanitized\":\"2.0.0-beta9\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v2.0/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v2.0\"},{\"beta\":0,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v1.6.21\",\"tag_reduced\":\"1.6\",\"tag_reduced_friendly\":\"v1.6\",\"tag_sanitized\":\"1.6.21\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v1.6/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v1.6\"},{\"beta\":0,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v1.5.0\",\"tag_reduced\":\"1.5\",\"tag_reduced_friendly\":\"v1.5\",\"tag_sanitized\":\"1.5.0\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v1.5/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v1.5\"},{\"beta\":0,\"build\":0,\"deprecated\":false,\"latest\":false,\"rc\":0,\"tag\":\"v1.4.1\",\"tag_reduced\":\"1.4\",\"tag_reduced_friendly\":\"v1.4\",\"tag_sanitized\":\"1.4.1\",\"summaryPath\":\"/usr/local/lib/python3.6/dist-packages/thorka-0.1-py3.6.egg/src/lib/gatsby/data/v1.4/SUMMARY.json\",\"importedSummary\":\"N/A\",\"version\":\"v1.4\"}]","latestDDVersion":"latest","importedSummary":"N/A","hasPrimaryNavigation":false,"primaryNavData":"[{\"text\":\"NONE\",\"path\":\"EMPTY\"}]","currentVersion":"latest","currentDDVersion":"20.0","summaryJson":"{\"array\":[{\"sub\":[{\"title\":\"Cmake\",\"link\":\"guides/cmake.md\"},{\"title\":\"First smart contract\",\"link\":\"guides/first-smart-contract.md\"},{\"title\":\"Generator attributes\",\"link\":\"guides/generator-attributes.md\"},{\"title\":\"Native tester\",\"link\":\"guides/native-tester.md\"}],\"title\":\"Guides\"},{\"sub\":[{\"title\":\"Eosio abidiff\",\"link\":\"tools/eosio-abidiff.md\"},{\"title\":\"Eosio abigen\",\"link\":\"tools/eosio-abigen.md\"},{\"title\":\"Eosio cpp\",\"link\":\"tools/eosio-cpp.md\"},{\"title\":\"Eosio init\",\"link\":\"tools/eosio-init.md\"},{\"title\":\"Eosio ld\",\"link\":\"tools/eosio-ld.md\"}],\"title\":\"Tools\"},{\"sub\":[{\"title\":\"1.2 to 1.3\",\"link\":\"upgrading/1.2-to-1.3.md\"},{\"title\":\"1.5 to 1.6\",\"link\":\"upgrading/1.5-to-1.6.md\"}],\"title\":\"Upgrading\"}],\"title\":[]}"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/latest/guides/generator-attributes"}}}